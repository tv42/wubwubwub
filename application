# Set user/group to run under
# Usually, it runs under the www-data user and group.
uid = pwd.getpwnam('www-data')[2]
gid = grp.getgrnam('www-data')[2]


# Generate the Application. You will not normally
# want to modify this line.
application = app.Application("web", uid=uid, gid=gid)

# Listen on all ports specified:
ports = map(int, open("/etc/twisted-web/ports").read().split())
ssl_ports = map(int, open("/etc/twisted-web/ssl-ports").read().split())

for port in ports:
    application.listenTCP(port, site)
for port in ssl_ports:
    application.listenSSL(port, site)

