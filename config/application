# You will not normally need to modify this file.
import pwd, grp
from twisted.application import service, strports, 

# Calculate user-id and group-id from names
uid = pwd.getpwnam(username)[2]
gid = grp.getgrnam(groupname)[2]
# Generate the Application.
application = service.Application("web", uid=uid, gid=gid)
# Listen on all ports specified:
for line in open("/etc/twisted-web/ports"):
    s = strports.service(line.rstrip(), site)
    s.setServiceParent(service.IServiceCollection(application))
